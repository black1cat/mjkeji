{% extends 'base.html' %}
    {% block head%}
    <style type="text/css">
      #dituContent {width:550px;height:550px;border:#ccc solid 1px;float: left;}
      #roll{background: url(static/assets/images/bg_error.png) no-repeat;height: 550px;}
      .messageWrap{
      bottom:0;
      width:100%;
      padding:0 0.2rem;
      overflow:hidden;
      }
      .message{
        width:100%;
        background:#fff;
        border-top-left-radius: 0px;
        border-top-right-radius: 0px;
        height:100%;
        overflow:hidden;
        padding-left:0.2rem;
      }
      .message li{
        line-height:2rem;
        list-style-type:none;
        list-style-image: url(static/assets/images/tanhao.png); 
        padding-top: 0;
        margin-bottom: 2px;
        
      }
      .simple-post{height: 600px;margin-top: 0;}
      #warning{margin: 0;padding-top: 0;}
      #rollbox {margin:5px 0px;padding:10px 0px;}
      #banner{float:left;margin-left:30px;padding:10px;width:100px;height:200px;background: url(static/assets/images/history.png);}
      #top_image{margin-top: 0;}
      #notice span{float:right}
      #form-group{margin-top: 100px;}
    </style>
    {% endblock  %}

{% block content %}
    
                   <div class="page-heading">
                    <div class="container-fluid">
                      <div class="row">
                        <div class="col-md-12">
                          <h1>异常概览</h1>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="simple-post">
                    <div class="container-fluid">
                      <div class="row">
                        <div class="col-md-12" >
                          <div  id="dituContent"></div>
                          <div class="col-md-4" id="roll">
                            <div class="messageWrap borderBox" id="rollbox">
                              
                              <div class="message borderBox">
                                  <ul id="notice">
                                    <li><a href="#">检测点一温度警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点二湿度警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点三震动噪声警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点一松弛度警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点一皮带涨紧警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点一温度警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点一温度警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点一温度警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点一温度警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点一温度警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点二湿度警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点三震动噪声警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点一松弛度警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点一皮带涨紧警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点一温度警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点一温度警告</a><span>2020-10-31</span></li>
                                    <li><a href="#">检测点一温度警告</a><span>2020-10-31</span></li>
                                    
                                  </ul>
                              </div>
                            </div>
                              
                          </div>
                          <div id="banner"></div>
                        </div>
                      </div>
                      
                     
                      
                    </div>
                  </div>
                  
                  <div class="contact-form" id="warning">
                    
                    <div>
                    
                      <div class="row">
                        <div >
                          <ul class="nav nav-pills">
                            <li role="presentation" class="active"><a href="simple_page">机器温度</a></li>
                            <li role="presentation"><a href="simple_page">环境状况</a></li>
                            <li role="presentation"><a href="simple_page">噪声情况</a></li>
                            <li role="presentation"><a href="simple_page">皮带情况</a></li>
                            <li role="presentation"><a href="simple_page">链条情况</a></li>
                          </ul>
                          </div>
                          
                          
                        <div class="col-md-6">
                          <div id="map"></div>
                        
                        </div>
                        
                

                      </div>
                      
                    </div> 
                    
                  </div> 
                  <div class="tables">
                    <div class="col-sm-12">
                        <table id="ta"></table>
                    </div>
                  </div>    
{% endblock %}


 
    {% block mapscript %}
    <script type="text/javascript" src="//api.map.baidu.com/api?v=2.0&ak=1lXrSsIRvQ10kSUTf9d84CzEvHwnY1F1"></script>
    <script type="text/javascript" src="static/assets/js/map.js"></script>
    <script type="text/javascript" src="static/assets/js/roll.js"></script>
    <script type="text/javascript">
      var defaultDate = document.querySelectorAll('.date-picker');
      for (var i = 0; i<defaultDate.length; i++) {
          defaultDate[i].valueAsDate = new Date();
      }
    $(function () {
        $('#ta').bootstrapTable({
            url: '/device',  // 请求数据源的路由
            method:'GET' ,
            dataType: "json",
            sortable: true, //是否启用排序
            sortOrder: "asc", //排序方式
            pagination: true, //前端处理分页
            singleSelect: false,//是否只能单选
            search: true, //显示搜索框，此搜索是客户端搜索，不会进服务端，所以，个人感觉意义不大
            toolbar: '#toolbar', //工具按钮用哪个容器
            striped: true, //是否显示行间隔色
            cache: false, //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
            pageNumber: 1, //初始化加载第10页，默认第一页
            pageSize: 10, //每页的记录行数（*）
            pageList: [10, 20, 50, 100], //可供选择的每页的行数（*）
            strictSearch: true,//设置为 true启用 全匹配搜索，false为模糊搜索
            showColumns: true, //显示内容列下拉框
            showRefresh: true, //显示刷新按钮
            minimumCountColumns: 2, //当列数小于此值时，将隐藏内容列下拉框
            clickToSelect: true, //设置true， 将在点击某行时，自动勾选rediobox 和 checkbox
            uniqueId: "id", //每一行的唯一标识，一般为主键列
            showToggle: true, //是否显示详细视图和列表视图的切换按钮
            cardView: false, //是否显示详细视图
            sidePagination: "server", //分页方式：client客户端分页，server服务端分页（*）
            columns: [{  //定义表头,这个表头必须定义,下边field后边跟的字段名字必须与后端传递的字段名字相同.如:id、name、price 跟后端的字段名id  name price是完全一样的.
  
                field: 'id',
                title: '设备序号',
                align: 'center',
                valign: 'middle',  //对齐方式，居中
                width: '200px'  // 可以写各种样式#}
  
            }, {
                field: 'name',
                title: '设备名称',
                valign: 'middle',
                align: 'center'
            }, 
            {
                field: 'status',
                title: '设备状态',
                valign: 'middle',
                align: 'center'
            },
            {
                title: '操作',
                field: 'id',
                valign: 'middle',
                align: 'center',
                formatter: function (value, row, index) {
                  
                    var e = "<input type='submit' id='editbutton' class='btn btn-success btn-sm editbutton' value='修改'></input>";  //row.id为每行的id
                    var d = "<input type='submit' class='btn btn-warning btn-sm delbutton' value='删除'></input>";
                    return e + d;
                }
            }
            ],
        });
    });
  
  
  </script>
    {% endblock %}
